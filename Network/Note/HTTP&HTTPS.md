# :books: HTTP & HTTPS <sub>HTTPμ™€ HTTPS</sub>

## :bookmark_tabs: λ©μ°¨

[:arrow_up: **Network**](../README.md)

1. ### [HTTP](#π“•-http-ν•μ΄νΌ-ν…μ¤νΈ-μ „μ†΅-ν”„λ΅ν† μ½) <sub>ν•μ΄νΌ ν…μ¤νΈ μ „μ†΅ ν”„λ΅ν† μ½</sub>
2. ### [HTTPS](#π“™-https-https-ν”„λ΅ν† μ½) <sub>ν•μ΄νΌ ν…μ¤νΈ μ „μ†΅ ν”„λ΅ν† μ½ μ‹νμ–΄</sub>

# :closed_book: HTTP <sub>ν•μ΄νΌ ν…μ¤νΈ μ „μ†΅ ν”„λ΅ν† μ½</sub>

## μ •μ

> HTMLκ³Ό κ°™μ€ ν•μ΄νΌλ―Έλ””μ–΄ λ¬Έμ„λ¥Ό μ „μ†΅ν•κΈ° μ„ν• μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ ν”„λ΅ν† μ½

## νΉμ§•

![img:HTTPμ μ‚¬μ©](../img/http_01.png)

- Hypertext Transfer Protocolμ μ•½μ–΄
- μ›Ήμ—μ„ μ΄λ£¨μ–΄μ§€λ” λ¨λ“  λ°μ΄ν„° κµν™μ κΈ°μ΄
- λ€ν‘μ μΈ ν΄λΌμ΄μ–ΈνΈ<sub>Client</sub>-μ„λ²„<sub>Server</sub> ν”„λ΅ν† μ½
- ν΄λΌμ΄μ–ΈνΈμ— μν•΄ λ©”μ‹μ§€κ°€ μ”μ²­<sub>Requests</sub>λλ©΄ μ„λ²„μ—μ„ λ©”μ‹μ§€λ¥Ό μ‘λ‹µ<sub>Responses</sub>ν•λ” κµ¬μ΅°
- λΉ„μ—°κ²°<sub>Connectionless</sub>κ³Ό λ¬΄μƒνƒμ„±<sub>Stateless</sub>μ„ κ°€μ§
- μμ•½λ λ„¤νΈμ›ν¬ ν¬νΈ 80λ²μ„ μ‚¬μ©

> **Client-Server Protocol**
>
> - μμ‹ μ μΈ΅μ— μν•΄ μ”μ²­μ΄ μ΄κΈ°ν™”λλ” ν”„λ΅ν† μ½

> **λΉ„μ—°κ²°<sub>Connectionless</sub>**
>
> - ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­μ„ μ„λ²„λ΅ λ³΄λ‚΄κ³  μ„λ²„κ°€ μ μ ν• μ‘λ‹µμ„ λ³΄λ‚΄λ©΄ μ—°κ²°μ΄ λμ–΄μ§

> **λ¬΄μƒνƒμ„±<sub>Stateless</sub>**
>
> - μ—°κ²°μ„ λλ” μκ°„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ ν†µμ‹ μ€ λλ‚λ©° μƒνƒ μ •λ³΄λ¥Ό νκΈ°
> - μ΄μ „μ— μ”μ²­ν• κ²°κ³Όλ¥Ό κ°–κ³ μμ§€ μ•μ

## HTTPμ λ™μ‘ κ³Όμ •

> μ„λ²„ μ ‘μ† -> ν΄λΌμ΄μ–ΈνΈ -> μ”μ²­ -> μ„λ²„ -> μ‘λ‹µ -> ν΄λΌμ΄μ–ΈνΈ -> μ—°κ²° μΆ…λ£

1. μ‚¬μ©μκ°€ μ›Ή λΈλΌμ°μ €μ— URL μ£Όμ†λ¥Ό μ…λ ¥
2. DNS μ„λ²„μ— μ›Ή μ„λ²„μ νΈμ¤νΈ μ΄λ¦„μ„ IP μ£Όμ†λ΅ λ³€κ²½ μ”μ²­
3. μ›Ήμ„λ²„μ™€ TCP 3 way-handshaking μ—°κ²°μ„ μ‹λ„
4. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ”μ²­ν•λ‹¤.
   - **HTTP Request Message = `Request Header` + `Blank Line` + `Request Body`**
     - Request Header
       - μ”μ²­ λ©”μ†λ“ + μ”μ²­ URI + HTTP ν”„λ΅ν† μ½ λ²„μ „  
         `GET /background.png HTTP/1.0` `POST / HTTP 1.1`  
         Header μ •λ³΄(key-value κµ¬μ΅°)
     - Blank Line
       - μ”μ²­μ— λ€ν• λ¨λ“  λ©”νƒ€ μ •λ³΄κ°€ μ „μ†΅λμ—μμ„ μ•λ¦¬λ” μ©λ„
     - Request Body
       - λ°μ΄ν„° μ—…λ°μ΄νΈ μ”μ²­κ³Ό κ΄€λ ¨λ λ‚΄μ© (HTML νΌ μ½ν…μΈ  λ“±)
       - GET, HEAD, DELETE, OPTIONSμ²λΌ λ¦¬μ†μ¤λ¥Ό κ°€μ Έμ¤λ” μ”μ²­μ—λ” μ—†μ
5. μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°μ΄ν„°λ¥Ό μ‘λ‹µν•λ‹¤.
   - **HTTP Response Message = `Response Header` + `Blank Line` + `Response Body`**
     - Response Header
       - HTTP ν”„λ΅ν† μ½ λ²„μ „ + μ‘λ‹µ μ½”λ“ + μ‘λ‹µ λ©”μ‹μ§€  
         `HTTP/1.1 404 Not Found.`  
          Header μ •λ³΄(key-value κµ¬μ΅°)
     - Blank Line
       - μ”μ²­μ— λ€ν• λ¨λ“  λ©”νƒ€ μ •λ³΄κ°€ μ „μ†΅λμ—μμ„ μ•λ¦¬λ” μ©λ„
     - Request Body
       - μ‘λ‹µ λ¦¬μ†μ¤ λ°μ΄ν„°
       - 201, 204 μƒνƒ μ½”λ“μ—λ” μ—†μ
6. 4 way-handshakingλ¥Ό μ‚¬μ©ν•΄ μ„λ²„ ν΄λΌμ΄μ–ΈνΈ κ°„ μ—°κ²°μΆ…λ£(λ¬΄μƒνƒμ„±)
7. μ›Ή λΈλΌμ°μ €κ°€ μ›Ή λ¬Έμ„ μ¶λ ¥

## HTTPμ μ”μ²­ λ©”μ†λ“

- `GET` : μ •λ³΄λ¥Ό μ”μ²­ν•κΈ° μ„ν•΄ μ‚¬μ©(SELECT)
- `POST` : μ •λ³΄λ¥Ό λ°€μ–΄λ„£κΈ° μ„ν•΄ μ‚¬μ©(INSERT)
- `PUT` : μ •λ³΄λ¥Ό μ—…λ°μ΄νΈν•κΈ° μ„ν•΄μ„ μ‚¬μ©(UPDATE)
- `DELETE` : μ •λ³΄λ¥Ό μ‚­μ ν•κΈ° μ„ν•΄μ„ μ‚¬μ©(DELETE)
- `HEAD` : (HTTP)ν—¤λ” μ •λ³΄λ§ μ”μ²­. ν•΄λ‹Ή μμ›μ΄ μ΅΄μ¬ν•λ”μ§€ νΉμ€ μ„λ²„μ— λ¬Έμ κ°€ μ—†λ”μ§€λ¥Ό ν™•μΈν•κΈ° μ„ν•΄ μ‚¬μ©
- `OPTIONS` : μ›Ή μ„λ²„κ°€ μ§€μ›ν•λ” λ©”μ„λ“μ μΆ…λ¥λ¥Ό μ”μ²­
- `TRACE` : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ κ·Έλ€λ΅ λ°ν™. μ£Όλ΅ echo μ„λΉ„μ¤λ΅ μ„λ²„ μƒνƒλ¥Ό ν™•μΈν•κΈ° μ„ν• λ©μ μΌλ΅ μ‚¬μ©

# :orange_book: HTTPS <sub>ν•μ΄νΌ ν…μ¤νΈ μ „μ†΅ ν”„λ΅ν† μ½ μ‹νμ–΄</sub>

## μ •μ

> HTTPμ— λ³΄μ•μ”μ†λ¥Ό μ¶”κ°€ν• μ°¨μ„Έλ€ ν”„λ΅ν† μ½

## νΉμ§•

- Hypertext Transfer Protocol Secureμ μ•½μ–΄
- HTTPμ λ³΄μ• μ·¨μ•½μ μ„ λ³΄μ™„ν•κΈ° μ„ν•΄ SSLμ„ μ μ©ν• λ³΄μ• ν”„λ΅ν† μ½
- μμ•½λ λ„¤νΈμ›ν¬ ν¬νΈ 433λ²μ„ μ‚¬μ©

> SSL<sub>Secure Sockets Layer</sub>
>
> - μ›Ήμ‚¬μ΄νΈμ™€ λΈλΌμ°μ € μ‚¬μ΄(λλ” λ‘ μ„λ²„ μ‚¬μ΄)μ— μ „μ†΅λλ” λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ μΈν„°λ„· μ—°κ²°μ„ λ³΄νΈν•κΈ° μ„ν• ν‘μ¤€ κΈ°μ 

## HTTPSμ λ™μ‘ κ³Όμ •

![HTTPSμ λ™μ‘](../img/http_ssl_01.png)

1. Client Hello
   - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ „μ†΅ν•  λ°μ΄ν„°
   - ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μƒμ„±ν• λλ¤ λ°μ΄ν„°
   - ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ μ•”νΈν™” λ°©μ‹ ν†µμΌμ„ μ„ν•΄ ν΄λΌμ΄μ–ΈνΈκ°€ μ‚¬μ©ν•  μ μλ” μ•”νΈν™” λ°©μ‹
   - μ΄μ „μ— μ΄λ―Έ Handshaking κΈ°λ΅μ΄ μλ‹¤λ©΄ μμ› μ μ•½μ„ μ„ν•΄ κΈ°μ΅΄ μ„Έμ…μ„ μ¬ν™μ©ν•κΈ° μ„ν• μ„Έμ… μ•„μ΄λ””
2. Server Hello
   - Client Helloμ— λ€ν• μ‘λ‹µμΌλ΅ μ „μ†΅ν•  λ°μ΄ν„°
   - μ„λ²„ μΈ΅μ—μ„ μƒμ„±ν• λλ¤ λ°μ΄ν„°
   - μ„λ²„κ°€ μ„ νƒν• ν΄λΌμ΄μ–ΈνΈμ μ•”νΈν™” λ°©μ‹
   - SSL μΈμ¦μ„
3. Client μΈμ¦ ν™•μΈ
   - μ„λ²„λ΅λ¶€ν„° λ°›μ€ μΈμ¦μ„κ°€ CAμ— μν•΄ λ°κΈ‰λμ—λ”μ§€ λ³ΈμΈμ΄ κ°€μ§€κ³  μλ” λ©λ΅μ—μ„ ν™•μΈν•κ³ , λ©λ΅μ— μλ‹¤λ©΄ CA κ³µκ°ν‚¤λ΅ μΈμ¦μ„ λ³µνΈν™”
   - ν΄-μ„ κ°κ°μ λλ¤ λ°μ΄ν„°λ¥Ό μ΅°ν•©ν•μ—¬ pre master secret κ°’ μƒμ„±(λ°μ΄ν„° μ†΅μμ‹  μ‹ λ€μΉ­ν‚¤ μ•”νΈν™”μ— μ‚¬μ©ν•  ν‚¤)
   - pre master secret κ°’μ„ κ³µκ°ν‚¤ λ°©μ‹μΌλ΅ μ„λ²„ μ „λ‹¬(κ³µκ°ν‚¤λ” μ„λ²„λ΅λ¶€ν„° λ°›μ€ μΈμ¦μ„μ— ν¬ν•¨)
   - μΌλ ¨μ κ³Όμ •μ„ κ±°μ³ session key μƒμ„±
4. Server μΈμ¦ ν™•μΈ
   - μ„λ²„λ” λΉ„κ³µκ°ν‚¤λ΅ λ³µνΈν™”ν•μ—¬ pre master secret κ°’ μ·¨λ“(λ€μΉ­ν‚¤ κ³µμ  μ™„λ£)
   - μΌλ ¨μ κ³Όμ •μ„ κ±°μ³ session key μƒμ„±
5. Handshaking μΆ…λ£
   - λ°μ΄ν„° μ „μ†΅
   - μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” session keyλ¥Ό ν™μ©ν•΄ λ°μ΄ν„°λ¥Ό μ•”λ³µνΈν™”ν•μ—¬ λ°μ΄ν„° μ†΅μμ‹ 
     μ—°κ²° μΆ…λ£ λ° session key νκΈ°

## HTTPSμ μ”μ²­ λ©”μ†λ“

- [HTTP](#httpμ-μ”μ²­-λ©”μ†λ“)μ™€ λ™μΌ
